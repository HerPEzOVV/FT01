<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ГНК КИППТ // Секретный архив</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⚠️</text></svg>">
    <style>
        body {
            background-color: #0A1A2F;
            color: #00FF00;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            margin: 0;
            padding: 20px;
            line-height: 1.4;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            border: 1px solid #2A2A2A;
            padding: 20px;
            background-color: #000000;
            box-shadow: 0 0 30px rgba(0, 255, 0, 0.1);
        }
        
        .header {
            border-bottom: 2px solid #8B0000;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        .header h1 {
            color: #8B0000;
            font-size: 24px;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin: 0;
        }
        
        .header h2 {
            color: #2A2A2A;
            font-size: 12px;
            margin: 5px 0 0 0;
        }
        
        .login-screen {
            text-align: center;
            padding: 50px 20px;
        }
        
        .login-screen input {
            background: #000;
            border: 1px solid #00FF00;
            color: #00FF00;
            padding: 10px;
            font-family: 'Courier New', monospace;
            width: 250px;
            margin: 15px 0;
            font-size: 16px;
            letter-spacing: 1px;
        }
        
        .login-screen button {
            background: #8B0000;
            color: white;
            border: none;
            padding: 12px 25px;
            font-family: 'Courier New', monospace;
            cursor: pointer;
            text-transform: uppercase;
            font-weight: bold;
            letter-spacing: 1px;
            margin-top: 10px;
        }
        
        .login-screen button:hover {
            background: #A00000;
        }
        
        .error {
            color: #FF0000;
            margin: 15px 0;
            min-height: 20px;
            font-weight: bold;
        }
        
        .menu {
            background: #0A1A2F;
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #2A2A2A;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .menu a {
            color: #00FF00;
            text-decoration: none;
            padding: 5px 10px;
            border: 1px solid transparent;
            white-space: nowrap;
        }
        
        .menu a:hover {
            border: 1px solid #8B0000;
        }
        
        .content {
            min-height: 400px;
            padding: 10px;
        }
        
        .log-entry {
            border: 1px dashed #2A2A2A;
            margin: 20px 0;
            padding: 15px;
            background: rgba(10, 26, 47, 0.3);
        }
        
        .log-entry h3 {
            color: #8B0000;
            margin-top: 0;
            border-bottom: 1px solid #2A2A2A;
            padding-bottom: 8px;
        }
        
        .log-entry .date {
            color: #2A2A2A;
            font-size: 11px;
            margin: 5px 0;
        }
        
        .add-form {
            background: #0A1A2F;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid #2A2A2A;
        }
        
        .add-form input, .add-form textarea {
            background: #000;
            border: 1px solid #00FF00;
            color: #00FF00;
            padding: 10px;
            font-family: 'Courier New', monospace;
            width: 100%;
            margin: 8px 0;
            box-sizing: border-box;
        }
        
        .add-form textarea {
            height: 200px;
            resize: vertical;
        }
        
        .add-form button {
            background: #8B0000;
            color: white;
            border: none;
            padding: 10px 20px;
            font-family: 'Courier New', monospace;
            cursor: pointer;
            margin-right: 10px;
            margin-top: 10px;
        }
        
        .add-form button:hover {
            background: #A00000;
        }
        
        .footer {
            border-top: 1px solid #2A2A2A;
            margin-top: 30px;
            padding-top: 15px;
            color: #2A2A2A;
            font-size: 11px;
            text-align: center;
        }
        
        .blink {
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0% { opacity: 1; }
            50% { opacity: 0.3; }
            100% { opacity: 1; }
        }
        
        .status-bar {
            background: #000;
            padding: 8px;
            border: 1px solid #2A2A2A;
            font-size: 12px;
            margin-bottom: 15px;
            color: #2A2A2A;
        }
        
        .tag {
            display: inline-block;
            background: #2A2A2A;
            color: #8B0000;
            padding: 2px 6px;
            font-size: 10px;
            margin-left: 10px;
        }
        
        .export-section {
            background: rgba(42, 42, 42, 0.5);
            padding: 15px;
            margin: 20px 0;
            border: 1px dashed #8B0000;
        }
        
        .export-section textarea {
            width: 100%;
            height: 100px;
            background: #000;
            color: #00FF00;
            border: 1px solid #2A2A2A;
            padding: 10px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 10px;
                margin: 10px;
            }
            
            .header h1 {
                font-size: 18px;
            }
            
            .menu {
                flex-direction: column;
            }
            
            .login-screen input {
                width: 90%;
            }
        }
    </style>
</head>
<body>
    <div class="container" id="container">
        <!-- Экран входа -->
        <div class="login-screen" id="loginScreen">
            <div class="header">
                <h1>◼◼◼◼◼◼◼◼◼◼◼◼◼ "◼◼◼◼"</h1>
                <h2>закрытый исследовательский сервер // версия 1.0</h2>
            </div>
            <p>⚠️ ВНИМАНИЕ: ДОСТУП ОГРАНИЧЕН ⚠️</p>
            <p>Введите кодовое слово для авторизации:</p>
            <input type="password" id="passwordInput" placeholder="███████ █████" autocomplete="off" autofocus>
            <br>
            <button onclick="checkPassword()">ПОДТВЕРДИТЬ</button>
            <div class="error" id="errorMsg"></div>
            <div class="footer">
                СИСТЕМА БЕЗОПАСНОСТИ: АКТИВНА<br>
                <span id="accessCodeHint">Подсказка: Событие "████ ██████"</span>
            </div>
        </div>
        
        <!-- Основной интерфейс -->
        <div id="mainInterface" style="display:none;">
            <div class="header">
                <h1>СЕКРЕТНЫЙ АРХИВ // ДОСТУП: АЛЬФА</h1>
                <h2><span id="currentTime">--:--:--</span> | СТАТУС: <span class="blink">● ОНЛАЙН</span> | ЛИНИЯ: БЕТА</h2>
            </div>
            
            <div class="status-bar">
                > НАУКА. КОНТРОЛЬ. ПОРЯДОК. | ФЕНОМЕН: ВЕЧНЫЙ ИНЕЙ | ДАТА: <span id="currentDate">--/--/----</span>
            </div>
            
            <div class="menu">
                <a href="#" onclick="showSection('logs')" id="navLogs">● ЗАПИСИ</a>
                <a href="#" onclick="showSection('add')" id="navAdd">+ ДОБАВИТЬ</a>
                <a href="#" onclick="showSection('export')" id="navExport">↔ ЭКСПОРТ</a>
                <a href="#" onclick="showSection('system')" id="navSystem">⚙ СИСТЕМА</a>
                <a href="#" onclick="logout()" style="color:#8B0000;margin-left:auto;">✖ ВЫХОД</a>
            </div>
            
            <div class="content" id="content">
                <!-- Контент загружается здесь -->
            </div>
            
            <div class="footer">
                ГНК КИППТ © 1995-1996 | КАТЕГОРИЯ: СОВЕРШЕННО СЕКРЕТНО<br>
                АРХИВ АНОМАЛИЙ v1.0 | ОБНОВЛЕНО: <span id="lastUpdate">--/--/----</span> | ЗАПИСЕЙ: <span id="logsCount">0</span>
            </div>
        </div>
    </div>

    <script>
        // Конфигурация
        const CONFIG = {
            PASSWORD: "ШифрЗима", // Пароль для доступа
            STORAGE_KEY: "kippt_archive_data_v2",
            VERSION: "1.0"
        };
        
        // Данные архива
        let archiveData = {
            logs: [],
            lastModified: null,
            version: CONFIG.VERSION
        };
        
        // Инициализация
        document.addEventListener('DOMContentLoaded', function() {
            loadData();
            setupEventListeners();
            updateDateTime();
            setInterval(updateDateTime, 1000);
            
            // Показать подсказку после загрузки
            setTimeout(() => {
                document.getElementById('accessCodeHint').textContent = "Подсказка: Событие 'Шифр Зима'";
            }, 3000);
        });
        
        // Загрузка данных
        function loadData() {
            try {
                const saved = localStorage.getItem(CONFIG.STORAGE_KEY);
                if (saved) {
                    archiveData = JSON.parse(saved);
                    
                    // Если нет начальных записей - создаем их
                    if (archiveData.logs.length === 0) {
                        createInitialLogs();
                    }
                } else {
                    createInitialLogs();
                    saveData();
                }
            } catch (e) {
                console.error("Ошибка загрузки данных:", e);
                createInitialLogs();
            }
            
            updateLogsCount();
        }
        
        // Создание начальных записей
        function createInitialLogs() {
            archiveData.logs = [
                {
                    id: generateId(),
                    title: "СОБЫТИЕ НУЛЕВОЙ ГОРИЗОНТ",
                    date: "15/12/1995",
                    content: "Официальная версия: экспериментальная авария. Реальность: аномалия ПР-Д-К-001 ('Большой Вывернутый') столкнулась с установкой УДАН. Зафиксировано ветвление временной линии. Мы находимся в Линии Бета. В Линии Альфа считают нас уничтоженными. Все данные об истинной природе события засекречены.",
                    tags: ["ПР-КЛАСС", "ХРОНОАНОМАЛИЯ", "СОВЕРШЕННО СЕКРЕТНО"]
                },
                {
                    id: generateId(),
                    title: "ФЕНОМЕН 'ВЕЧНЫЙ ИНЕЙ'",
                    date: "20/12/1995",
                    content: "Среднесуточная температура: -45°C и продолжает падать. Аномальные зоны расширяются. УПП сообщает о случаях 'мгновенного обледенения' - живые организмы превращаются в ледяные структуры за 2-3 секунды. Триггер неизвестен. Рекомендация: избегать зон с инеем синего оттенка.",
                    tags: ["КЛИМАТ", "ОПАСНО", "БИО-АНОМАЛИЯ"]
                },
                {
                    id: generateId(),
                    title: "ПЕРВЫЙ КОНТАКТ С РФ-КЛАССОМ",
                    date: "25/12/1995",
                    content: "ОСО-7 столкнулся с реликт-фантомом (РФ-С-И-001). Проявляется как советский пограничник 1960-х. Патрулирует несуществующую границу. Реагирует на приближение. При попытке контейнирования - исчезает. Вывод: некоторые аномалии являются 'эхом' прошлого, застрявшим в нашей реальности.",
                    tags: ["РФ-КЛАСС", "ПРИЗРАК", "ИССЛЕДОВАНИЕ"]
                },
                {
                    id: generateId(),
                    title: "ПРОРЫВ ЦКТ-01: КРИОСТАБИЛИЗАТОР",
                    date: "03/01/1996",
                    content: "Центр Ксенотехнологий создал первый стабильный артефакт на основе БИО-Р-Н-012. 'Криостабилизатор' позволяет выдерживать температуру до -80°C в течение 4 часов. Производство: 5 единиц в месяц. Приоритет: оперативные отделы. Побочный эффект: временная потеря тактильной чувствительности.",
                    tags: ["ТЕХНОЛОГИЯ", "АРТЕФАКТ", "ЦКТ"]
                }
            ];
            archiveData.lastModified = new Date().toISOString();
        }
        
        // Проверка пароля
        function checkPassword() {
            const input = document.getElementById('passwordInput').value;
            const errorMsg = document.getElementById('errorMsg');
            
            if (input === CONFIG.PASSWORD) {
                // Успешный вход
                document.getElementById('loginScreen').style.display = 'none';
                document.getElementById('mainInterface').style.display = 'block';
                showSection('logs');
                
                // Анимация появления
                const mainInterface = document.getElementById('mainInterface');
                mainInterface.style.opacity = '0';
                mainInterface.style.transition = 'opacity 0.5s';
                setTimeout(() => mainInterface.style.opacity = '1', 10);
                
            } else {
                // Неверный пароль
                errorMsg.textContent = "⨯ НЕВЕРНЫЙ КОД. ДОСТУП ЗАПРЕЩЕН.";
                errorMsg.style.color = "#FF0000";
                
                // Анимация ошибки
                const container = document.getElementById('container');
                container.style.animation = 'none';
                setTimeout(() => {
                    container.style.animation = 'shake 0.5s';
                }, 10);
                
                // Очистка поля через секунду
                setTimeout(() => {
                    document.getElementById('passwordInput').value = '';
                }, 1000);
            }
        }
        
        // Выход
        function logout() {
            if (confirm("Завершить сеанс доступа?")) {
                document.getElementById('loginScreen').style.display = 'block';
                document.getElementById('mainInterface').style.display = 'none';
                document.getElementById('passwordInput').value = '';
                document.getElementById('errorMsg').textContent = '';
                document.getElementById('passwordInput').focus();
            }
        }
        
        // Показать секцию
        function showSection(section) {
            // Обновляем навигацию
            document.querySelectorAll('.menu a').forEach(a => {
                a.style.backgroundColor = 'transparent';
            });
            
            const content = document.getElementById('content');
            
            switch(section) {
                case 'logs':
                    document.getElementById('navLogs').style.backgroundColor = '#2A2A2A';
                    showLogsSection();
                    break;
                    
                case 'add':
                    document.getElementById('navAdd').style.backgroundColor = '#2A2A2A';
                    showAddSection();
                    break;
                    
                case 'export':
                    document.getElementById('navExport').style.backgroundColor = '#2A2A2A';
                    showExportSection();
                    break;
                    
                case 'system':
                    document.getElementById('navSystem').style.backgroundColor = '#2A2A2A';
                    showSystemSection();
                    break;
            }
        }
        
        // Раздел с записями
        function showLogsSection() {
            let html = `<h3>● АРХИВНЫЕ ЗАПИСИ (${archiveData.logs.length})</h3>`;
            
            if (archiveData.logs.length === 0) {
                html += '<p>Архив пуст. Добавьте первую запись.</p>';
            } else {
                // Сортируем по дате (новые сверху)
                const sortedLogs = [...archiveData.logs].sort((a, b) => 
                    new Date(b.date.split('/').reverse().join('-')) - 
                    new Date(a.date.split('/').reverse().join('-'))
                );
                
                sortedLogs.forEach(log => {
                    const tagsHtml = log.tags ? 
                        log.tags.map(tag => `<span class="tag">${tag}</span>`).join(' ') : '';
                    
                    html += `
                        <div class="log-entry">
                            <h3>${log.title}</h3>
                            <div class="date">ID: ${log.id} | ${log.date} ${tagsHtml}</div>
                            <p>${log.content.replace(/\n/g, '<br>')}</p>
                            <div style="text-align:right; margin-top:10px;">
                                <button onclick="deleteLog('${log.id}')" style="background:#2A2A2A; padding:3px 10px; font-size:11px;">
                                    УДАЛИТЬ
                                </button>
                            </div>
                        </div>
                    `;
                });
            }
            
            document.getElementById('content').innerHTML = html;
        }
        
        // Раздел добавления
        function showAddSection() {
            const today = new Date();
            const dateStr = `${String(today.getDate()).padStart(2, '0')}/${String(today.getMonth() + 1).padStart(2, '0')}/${today.getFullYear()}`;
            
            const html = `
                <h3>+ ДОБАВИТЬ НОВУЮ ЗАПИСЬ</h3>
                <div class="add-form">
                    <input type="text" id="newTitle" placeholder="ЗАГОЛОВОК (обязательно)" maxlength="60">
                    <input type="text" id="newDate" placeholder="ДД/ММ/ГГГГ" value="${dateStr}">
                    <input type="text" id="newTags" placeholder="ТЕГИ (через запятую): ПР-КЛАСС, СЕКРЕТНО и т.д.">
                    <textarea id="newContent" placeholder="СОДЕРЖАНИЕ ЗАПИСИ..." maxlength="2000"></textarea>
                    <div>
                        <button onclick="addNewLog()">● СОХРАНИТЬ</button>
                        <button onclick="clearAddForm()" style="background:#2A2A2A;">✖ ОЧИСТИТЬ</button>
                    </div>
                    <p style="color:#2A2A2A; font-size:11px; margin-top:15px;">
                        Запись будет сохранена в локальном хранилище браузера.
                    </p>
                </div>
            `;
            
            document.getElementById('content').innerHTML = html;
        }
        
        // Раздел экспорта
        function showExportSection() {
            const dataStr = JSON.stringify(archiveData, null, 2);
            
            const html = `
                <h3>↔ УПРАВЛЕНИЕ ДАННЫМИ</h3>
                
                <div class="export-section">
                    <h4>● ЭКСПОРТ АРХИВА</h4>
                    <p>Скопируйте этот код для резервного копирования или переноса данных:</p>
                    <textarea id="exportData" readonly>${dataStr}</textarea>
                    <button onclick="copyExportData()">СКОПИРОВАТЬ</button>
                    <button onclick="downloadData()" style="background:#2A2A2A;">● СКАЧАТЬ ФАЙЛ</button>
                </div>
                
                <div class="export-section">
                    <h4>● ИМПОРТ АРХИВА</h4>
                    <p>Вставьте код для восстановления данных:</p>
                    <textarea id="importData" placeholder="Вставьте JSON-данные архива..."></textarea>
                    <button onclick="importArchiveData()">◀ ИМПОРТИРОВАТЬ</button>
                    <p style="color:#8B0000; font-size:11px;">
                        Внимание: текущие данные будут заменены!
                    </p>
                </div>
                
                <div class="export-section">
                    <h4>● ОПЕРАЦИИ С АРХИВОМ</h4>
                    <button onclick="clearAllData()" style="background:#8B0000;">✖ ОЧИСТИТЬ ВЕСЬ АРХИВ</button>
                    <button onclick="resetToDefault()" style="background:#2A2A2A; margin-left:10px;">
                        ↻ ВОССТАНОВИТЬ ПО УМОЛЧАНИЮ
                    </button>
                </div>
            `;
            
            document.getElementById('content').innerHTML = html;
        }
        
        // Раздел системы
        function showSystemSection() {
            const html = `
                <h3>⚙ ИНФОРМАЦИЯ О СИСТЕМЕ</h3>
                
                <div class="log-entry">
                    <h3>СЕРВЕР АРХИВАЦИИ ГНК КИППТ</h3>
                    <p><strong>Версия:</strong> ${CONFIG.VERSION}</p>
                    <p><strong>Назначение:</strong> Секретный цифровой архив оперативных данных</p>
                    <p><strong>Технология:</strong> HTML5, CSS3, JavaScript (ES6+)</p>
                    <p><strong>Хранение:</strong> Локальное хранилище браузера (localStorage)</p>
                    <p><strong>Безопасность:</strong> Аутентификация по паролю, данные не передаются на сервер</p>
                    <p><strong>Совместимость:</strong> Chrome, Firefox, Edge, Safari</p>
                </div>
                
                <div class="log-entry">
                    <h3>● ИНСТРУКЦИЯ ПО ИСПОЛЬЗОВАНИЮ</h3>
                    <p>1. <strong>Добавление записей:</strong> Используйте раздел "ДОБАВИТЬ"</p>
                    <p>2. <strong>Просмотр:</strong> Все записи доступны в разделе "ЗАПИСИ"</p>
                    <p>3. <strong>Резервное копирование:</strong> Регулярно экспортируйте данные через раздел "ЭКСПОРТ"</p>
                    <p>4. <strong>Перенос:</strong> Скопируйте JSON-код на другой компьютер и импортируйте его</p>
                    <p>5. <strong>Безопасность:</strong> Не передавайте пароль третьим лицам</p>
                </div>
                
                <div class="log-entry">
                    <h3>● ТЕХНИЧЕСКАЯ ИНФОРМАЦИЯ</h3>
                    <p><strong>Объем данных:</strong> ${JSON.stringify(archiveData).length} байт</p>
                    <p><strong>Записей в архиве:</strong> ${archiveData.logs.length}</p>
                    <p><strong>Последнее изменение:</strong> ${archiveData.lastModified ? new Date(archiveData.lastModified).toLocaleString() : 'неизвестно'}</p>
                    <p><strong>Поддержка:</strong> Система автономна, не требует интернет-соединения</p>
                </div>
            `;
            
            document.getElementById('content').innerHTML = html;
        }
        
        // Добавить новую запись
        function addNewLog() {
            const title = document.getElementById('newTitle').value.trim();
            const date = document.getElementById('newDate').value.trim();
            const content = document.getElementById('newContent').value.trim();
            const tagsInput = document.getElementById('newTags').value.trim();
            
            // Валидация
            if (!title || !content) {
                alert("Заполните заголовок и содержание!");
                return;
            }
            
            if (!/^\d{2}\/\d{2}\/\d{4}$/.test(date)) {
                alert("Дата должна быть в формате ДД/ММ/ГГГГ");
                return;
            }
            
            // Подготовка тегов
            const tags = tagsInput ? 
                tagsInput.split(',').map(tag => tag.trim().toUpperCase()).filter(tag => tag) : 
                ["АРХИВ"];
            
            // Создание записи
            const newLog = {
                id: generateId(),
                title: title.toUpperCase(),
                date: date,
                content: content,
                tags: tags,
                created: new Date().toISOString()
            };
            
            // Добавление в архив
            archiveData.logs.push(newLog);
            archiveData.lastModified = new Date().toISOString();
            
            // Сохранение
            saveData();
            updateLogsCount();
            
            // Очистка формы и возврат к списку
            clearAddForm();
            showSection('logs');
            
            // Уведомление
            alert(`Запись #${newLog.id} добавлена в архив.`);
        }
        
        // Удалить запись
        function deleteLog(id) {
            if (confirm("Удалить эту запись? Это действие необратимо.")) {
                archiveData.logs = archiveData.logs.filter(log => log.id !== id);
                archiveData.lastModified = new Date().toISOString();
                saveData();
                updateLogsCount();
                showSection('logs');
            }
        }
        
        // Очистить форму добавления
        function clearAddForm() {
            document.getElementById('newTitle').value = '';
            document.getElementById('newContent').value = '';
            document.getElementById('newTags').value = '';
            
            const today = new Date();
            const dateStr = `${String(today.getDate()).padStart(2, '0')}/${String(today.getMonth() + 1).padStart(2, '0')}/${today.getFullYear()}`;
            document.getElementById('newDate').value = dateStr;
        }
        
        // Копировать данные для экспорта
        function copyExportData() {
            const textarea = document.getElementById('exportData');
            textarea.select();
            document.execCommand('copy');
            alert("Данные скопированы в буфер обмена.");
        }
        
        // Скачать данные
        function downloadData() {
            const dataStr = JSON.stringify(archiveData, null, 2);
            const blob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = `kippt_archive_${new Date().toISOString().slice(0,10)}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
        
        // Импортировать данные
        function importArchiveData() {
            const importStr = document.getElementById('importData').value.trim();
            
            if (!importStr) {
                alert("Введите данные для импорта!");
                return;
            }
            
            try {
                const importedData = JSON.parse(importStr);
                
                // Базовая проверка структуры
                if (!importedData.logs || !Array.isArray(importedData.logs)) {
                    throw new Error("Неверный формат данных");
                }
                
                if (confirm(`Импортировать ${importedData.logs.length} записей? Текущие данные будут заменены.`)) {
                    archiveData = importedData;
                    archiveData.lastModified = new Date().toISOString();
                    saveData();
                    updateLogsCount();
                    alert("Данные успешно импортированы!");
                    showSection('logs');
                }
            } catch (e) {
                alert("Ошибка импорта: неверный формат данных.");
                console.error(e);
            }
        }
        
        // Очистить все данные
        function clearAllData() {
            if (confirm("ВНИМАНИЕ: Все записи будут удалены без возможности восстановления. Продолжить?")) {
                archiveData.logs = [];
                archiveData.lastModified = new Date().toISOString();
                saveData();
                updateLogsCount();
                alert("Архив очищен.");
                showSection('logs');
            }
        }
        
        // Сброс к начальным данным
        function resetToDefault() {
            if (confirm("Восстановить архив с примерами записей? Текущие данные будут удалены.")) {
                createInitialLogs();
                saveData();
                updateLogsCount();
                alert("Архив восстановлен по умолчанию.");
                showSection('logs');
            }
        }
        
        // Сохранить данные
        function saveData() {
            try {
                localStorage.setItem(CONFIG.STORAGE_KEY, JSON.stringify(archiveData));
                updateLastUpdateTime();
            } catch (e) {
                console.error("Ошибка сохранения:", e);
                alert("Ошибка сохранения данных. Проверьте доступное место в хранилище.");
            }
        }
        
        // Обновить счетчик записей
        function updateLogsCount() {
            document.getElementById('logsCount').textContent = archiveData.logs.length;
        }
        
        // Обновить время последнего изменения
        function updateLastUpdateTime() {
            const now = new Date();
            const dateStr = `${String(now.getDate()).padStart(2, '0')}/${String(now.getMonth() + 1).padStart(2, '0')}/${now.getFullYear()}`;
            document.getElementById('lastUpdate').textContent = dateStr;
        }
        
        // Обновить дату и время
        function updateDateTime() {
            const now = new Date();
            const timeStr = now.toLocaleTimeString('ru-RU', { hour12: false });
            const dateStr = now.toLocaleDateString('ru-RU');
            
            document.getElementById('currentTime').textContent = timeStr;
            document.getElementById('currentDate').textContent = dateStr;
        }
        
        // Генератор ID
        function generateId() {
            return Date.now().toString(36) + Math.random().toString(36).substr(2, 5);
        }
        
        // Настройка обработчиков событий
        function setupEventListeners() {
            // Ввод пароля по Enter
            document.getElementById('passwordInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    checkPassword();
                }
            });
            
            // Анимация тряски при ошибке
            const style = document.createElement('style');
            style.textContent = `
                @keyframes shake {
                    0%, 100% { transform: translateX(0); }
                    10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
                    20%, 40%, 60%, 80% { transform: translateX(5px); }
                }
            `;
            document.head.appendChild(style);
        }
    </script>
</body>
</html>
